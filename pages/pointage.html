<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pointage & Tableau de Bord - Gestion Temps</title>
    <link rel="stylesheet" href="../css/styles.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/localforage/1.10.0/localforage.min.js"></script>
</head>
<body class="has-fixed-header">
    <header class="main-header">
        <a href="pointage.html" class="logo">GestionTemps</a>
        <nav>
            <ul>
                <li><a href="pointage.html" class="active">Pointage</a></li>
                <li><a href="conges.html">Cong√©s</a></li>
                <li><a href="fiches-frais.html">Fiches de Frais</a></li>
                <li><a href="fiches-horaires.html">Fiches Horaires</a></li>
          </ul>
        </nav>
    </header>

    <main class="container">
        <h1>Pointage Journalier</h1>
        
        <div class="section">
            <h2>Statut Actuel</h2>
            <p>Date : <strong id="currentDateDisplay">--</strong></p>
            <p>Heure : <strong id="currentTimeDisplay">--:--:--</strong></p>
        </div>

        <div class="section">
            <h2>Gestion du Pointage</h2>
            <div class="form-inline-flex pointage-actions">
                <div class="form-group">
                    <label>D√©but Journ√©e :</label>
                    <strong id="morningStartTimeDisplay">--:--</strong>
                    <button type="button" id="btnStartMorning" class="btn btn-primary">Pointer D√©but Journ√©e</button>
                </div>
                
                <div class="form-group">
                    <label>Fin Journ√©e :</label>
                    <strong id="afternoonEndTimeDisplay">--:--</strong>
                    <button type="button" id="btnEndAfternoon" class="btn btn-primary">Pointer Fin Journ√©e</button>
                </div>
            </div>
        </div>

        <div class="section">
            <h2>R√©sum√© de la Journ√©e et Semaine</h2>
            <p>Temps √©coul√© aujourd'hui : <strong id="elapsedTimeToday">00:00</strong></p>
            <p>Temps total point√© cette semaine : <strong id="weekSummary">00:00</strong></p>
        </div>
        
        <!-- SECTION TABLEAU DE BORD INT√âGR√âE CI-DESSOUS -->        
        <div class="section quick-access-section">
            <h1>Acc√®s rapides</h1>
            <div class="button-group">
                <!-- Le bouton "Commencer/Terminer ma journ√©e" est redondant ici, on peut le retirer ou le garder -->
                <!-- <a href="pointage.html" class="btn btn-primary">Commencer/Terminer ma journ√©e</a> -->
                <a href="conges.html" class="btn btn-secondary">G√©rer mes cong√©s</a>
                <a href="fiches-horaires.html" class="btn btn-secondary">Voir mes fiches horaires</a>
                 <a href="fiches-frais.html" class="btn btn-secondary">G√©rer mes fiches de frais</a>
            </div>
        </div>
        <!-- FIN SECTION TABLEAU DE BORD INT√âGR√âE -->
        <hr> <!-- S√©parateur visuel -->

        <div class="section">
            <div class="import-export-controls">
                <h3>Sauvegarde et Restauration des Pointages</h3>
                <div class="form-inline-flex">
                    <button type="button" id="exportJsonBtn" class="btn btn-export">üìÅ Exporter Fichier JSON</button>
                    <button type="button" id="sendEmailBtn" class="btn btn-primary">üìß Envoyer par Email</button>
                    <div class="import-wrapper">
                        <input type="file" id="importJsonInput" accept=".json" style="display:none;">
                        <button type="button" id="importJsonBtn" class="btn btn-import button-like-label">üìÇ Importer Fichier</button>
                    </div>
                </div>
                <p style="font-size: 0.9em; color: #666; margin-top: 10px;">
                    üí° <strong>Envoi par email :</strong> Ouvre votre client email avec un r√©sum√© et les donn√©es JSON de pointage. 
                    Id√©al pour envoyer vos pointages √† votre responsable ou pour une sauvegarde externe.
                </p>
            </div>
        </div>
    </main>

    <div id="toast-container"></div>

    <script src="../js/utils.js"></script>
    <script src="../js/pointage.js"></script>
    <script src="../js/mobile-ux.js"></script>
</body>
</html>